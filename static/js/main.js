if(!$$)var $$={};$$.mod={};
$$.config=function(){function j(d){var g=b[d];if(g)for(var l=0,o=g.length;l<o;l++)g[l].call(null,h(d))}function h(d,g){if(typeof g=="function"){b[d]=b[d]||[];b[d].push(g)}return $.object.clone(e[d])}var b={},e={TITLE_POSTFIX:" - Webyom - Gary's Blog",MARK_PREFIX:"view/",DEFAULT_MOD_KEY:"list",LIB_NAME_URL_HASH:{WYJS_MOUSE_EVENT:"/static/inc/webyom-js/mouse_event.js",PRETTY_PRINT:"/static/inc/prettify/prettify.js"},MOD_NAME_URL_HASH:{ARTICLE_LIST:"/static/js/mod/article_list.js",READ_ARTICLE:"/static/js/mod/read_article.js"},
MOD_KEY_NAME_HASH:{list:"ARTICLE_LIST",read:"READ_ARTICLE"},MOD_KEY_INFO_HASH:{list:{p:1,key:"list",title:"List",id:300,name:"ARTICLE_LIST",url:"/static/js/mod/article_list.js"},read:{p:2,key:"read",title:"Read",id:301,name:"READ_ARTICLE",url:"/static/js/mod/read_article.js"},write:{p:3,key:"write",title:"Write",id:302,name:"WRITE_ARTICLE",url:"/static/js/mod/write_article.js"}},SUB_MOD_KEY_INFO_HASH:{}};return{_ID:200,get:h,set:function(d,g){e[d]=g;j(d);return 0},extend:function(d,g){if(typeof e[d]!=
"object")return 1;for(var l in g)e[d][l]=g[l];j(d);return 0}}}();var $$_LIB_NAME_URL_HASH=$$.config.get("LIB_NAME_URL_HASH"),$$_MOD_KEY_INFO_HASH=$$.config.get("MOD_KEY_INFO_HASH"),$$_SUB_MOD_KEY_INFO_HASH=$$.config.get("SUB_MOD_KEY_INFO_HASH",function(j){$$_SUB_MOD_KEY_INFO_HASH=j});
$$.ui=function(){function j(){$("#content").get().innerHTML=b.CONTENT.FRAME;$("#sideWhoamiContent").get().innerHTML=b.CONTENT.SIDE_WHOAMI;$("#sideReadingsContent").get().innerHTML=b.CONTENT.SIDE_READINGS;$("#sideRecSites").get().innerHTML=b.CONTENT.SIDE_REC_SITES;$("#sidePart").tween(1500,{origin:{style:"top: -800px; opacity: 0; position: relative;"},target:{style:"top: 0px; opacity: 1; position: static;"},transition:"easeOut"})}var h=$$userName,b={HEADER:['<h1>Webyom</h1><ul id="menu"><li class="a"><a href="/view/list">Blog</a></li><li class="b"><a href="/view/bookmark">Bookmark</a></li><li class="c"><a href="/view/about">About</a></li></ul>',
'<div id="loginInfo">'+(h?"Welcome, "+h+'! <a href="/logout/">logout&gt;&gt;</a>':"Welcome, guest!")+"</div>"].join(""),CONTENT:{FRAME:$$uiContentTmpl,SIDE_WHOAMI:'<p><img src="/static/img/myPhoto.jpg" alt="Who am I?" />Hi, my name is Gary Wang.<br /><br />I\'m living in Shenzhen China, and working as a front-end developer.<br /><br />I love programming in Javascript, CSS, and HTML. Recently I\'m studying Python. I found Python a extramely good programming language, thus I started to build this blog with it.</p>',
SIDE_READINGS:'<ul><li><a href="http://www.amazon.com/Learning-Website-Development-Django-applications/dp/1847193358" target="_blank">Learn Website Development with Django<img src="/static/img/blank.gif" class="iconOutGoing" alt="Link to outside." /></a></li><li><a href="http://www.amazon.com/Passionate-Programmer-Remarkable-Development-Pragmatic/dp/1934356344" target="_blank">The Passionate Programmer<img src="/static/img/blank.gif" class="iconOutGoing" alt="Link to outside." /></a></li></ul>',SIDE_REC_SITES:'<ul><li><a href="http://isd.tencent.com/" target="_blank">Tencent ISD<img src="/static/img/blank.gif" class="iconOutGoing" alt="Link to outside." /></a></li><li><a href="http://cdc.tencent.com/" target="_blank">Tencent CDC<img src="/static/img/blank.gif" class="iconOutGoing" alt="Link to outside." /></a></li></ul>'},
FOOTER:'<span>&copy;2009-2011 Webyom. Designed and Programmed by <a href="mailto:webyom@gmail.com" title="Write a mail to Gary.">Gary</a>. Powered by <a href="http://www.djangoproject.com" target="_blank">Django</a> and <a href="http://github.com/webyom/webyom-js" target="_blank">YOM</a></span><img src="/static/img/django_logo.gif" alt="Powered by Django" /><br class="clearFix" />'};return{resetContent:j,turnOnMenu:function(e){$("#menu").get().className=e},init:function(){$(document.body).show();
$("#header").get().innerHTML=b.HEADER;$("#header").tween(1500,{origin:{style:"opacity: 0;"},target:{style:"left: 0px; opacity: 1;"},transition:"easeOut"});j();$("#footer").get().innerHTML=b.FOOTER}}}();
$$.ui.processing=function(){function j(e){b.innerHTML=e||"Processing...";b.style.display="block";document.getElementById("content").className="processing"}function h(){b.style.display="none";document.getElementById("content").className=""}var b;(function(){b=document.body.appendChild($.Element.create("div",{id:"processingDiv"},{display:"none"}));$.JsLoader.addEventListener("start",function(){j()});$.JsLoader.addEventListener("allcomplete",function(){h()});$.Xhr.addEventListener("start",function(){j()});
$.Xhr.addEventListener("allcomplete",function(){h()})})();return{start:j,stop:h}}();
$$.handler=function(j){function h(a){if(a.indexOf(n)===0)return a;return n+a}function b(a,c,i){var f=a.name;if(a.url)$.js.require(a.url,function(k){k!==0?alert("Code: "+k+"\nMessage: Failed to load module"+f):$$.mod[f].handle(c,i)});else a.handler&&a.handler(c)}function e(a){var c=a.split("/");a=c[1];c=c.slice(2).join("/");if(a=o[a])a.subMark=c;return a}function d(a,c){var i=a||n+$$.config.get("DEFAULT_MOD_KEY");if(i.indexOf(n)===0){var f=e(i);if(f){if(p.dispatchEvent(p.createEvent("beforeunloadmod",
{originMark:q,targetMark:i,originMod:$.object.clone(t),targetMod:$.object.clone(f)}))!==false){easyHistory.setMark(a,f.title+v);q=a;t=f;g();setTimeout(function(){b(f,f.subMark,c||easyHistory.getCache(i))},300)}}else alert("Sorry, can not find the page you requested.")}}function g(){$.JsLoader.abortAll(w);$.Xhr.abortAll()}var l=function(){var a,c,i;a=location.hash.match(/\?(.+)/);i={};if(a){a=a[1].split("&");for(var f=0,k=a.length;f<k;f++){c=a[f].split("=");i[c[0]]=c[1]}}$$.config.set("OPTION",i);
return $$.config.get("OPTION")}(),o=$$.config.get("MOD_KEY_INFO_HASH"),v=$$.config.get("TITLE_POSTFIX"),n=$$.config.get("MARK_PREFIX"),q,t={},w={},r=function(){r.superClass.constructor.apply(this,$.array.getArray(arguments))};$.Class.extend(r,$.Event);var p=$extend(new r({beforeunloadmod:new $.Observer}),{_ID:204,jump:function(a){d(a)},error:function(a,c){a instanceof $.Error?alert((c?"Module: "+c+"\n":"")+"Code: "+a.code+"\nMessage: "+a.message):alert((c?"Module: "+c+"\n":"")+(typeof a=="number"?
"Code: "+a+"\n":"")+"Message: Sorry!")},abortAllRequests:g,preloadModList:function(a,c){var i,f=[],k;for(k in a){i=a[k];$$.mod[i.name]||!i.url||f.push(i)}f.sort(function(m,s){var u=m.p-s.p;return u>0?-1:u<0?1:0});setTimeout(function(){for(var m=0,s=f.length;m<s;m++)$.js.preload(f[m].url)},c||0)},setCache:function(a,c){easyHistory.setCache(h(a),c)},getCache:function(a){return easyHistory.getCache(h(a))},clearCache:function(){return easyHistory.clearCache()}});(function(){l.console=="on"&&$.console.turnOn();
var a=location.pathname.replace(/^\//,""),c=location.hash.replace(/^#!\/?/,"");if(easyHistory.isSupportHistoryState())if(a)!e(a)&&e(c)&&history.replaceState(null,document.title,"/"+c);else e(c)&&history.replaceState(null,document.title,"/"+c);else if(!e(c)&&e(a))location.hash="!"+a;$$.ui.init();$.Event.addListener(document.body,"click",function(i){var f=$.Event.getTarget(i),k,m;if(f.tagName=="A"){k=f.pathname.replace(/^\//,"");m=f.hash.replace(/^#/,"");if(!f.target)if(k.indexOf(n)===0)if(!(k==q&&
m)){$.Event.preventDefault(i);if(!easyHistory.isSupportHistoryState()&&location.pathname.replace(/^\//,""))location.href="/#!"+k;else d(k)}}});easyHistory.setListener(d);easyHistory.init(j)})();return p}({cacheSize:1E3});$$.util={};
$$.util.xhr=function(){function j(h,b){b=b||{};var e=b.load;b.load=function(d){var g=b.callbackName||"_callBack";RegExp("^\\s*"+g).test(d)||(d=g+"("+d+")");try{d=(new Function(["var res = {}, ",g," = function (r) { res = r; }; ",d,"; return res"].join("")))()}catch(l){b.error.call(this,$.Error.getCode($$.util._ID,1));return}e&&e.call(this,d)};h.send()}return{get:function(h,b){var e=new $.Xhr(h,$extend(b,{method:"GET"}));j(e,b);return e},post:function(h,b){b=b||{};b.param=typeof b.param=="string"?
b.param+"&csrfmiddlewaretoken="+$.cookie.get("csrftoken"):$extend(b.param,{csrfmiddlewaretoken:$.cookie.get("csrftoken")});var e=new $.Xhr(h,$extend(b,{method:"POST"}));j(e,b);return e}}}();$$.util.prettyPrint=function(){$.js.require($$_LIB_NAME_URL_HASH.PRETTY_PRINT,function(){prettyPrint()})};
